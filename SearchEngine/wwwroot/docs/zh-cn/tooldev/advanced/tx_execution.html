<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="robots" content="index,follow">
    <meta name="author" content="neo-project">
    <meta name="application-name" content="neo.org">
    <meta name="renderer" content="ie-stand">
    <title>交易流程</title>
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Neo Documentation" />
    <meta property="og:description" content="Neo Documentation" />
    <meta property="og:image" content="/img/twitter-img.jpg" />
    <meta name="twitter:title" content="Neo Documentation" />
    <meta name="twitter:description" content="Neo Documentation" />
    <meta name="twitter:image" content="/img/twitter-img.jpg" />
    <meta name="twitter:card" content="summary_large_image" />

    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon-16x16.png">
    <link rel="manifest" href="/img/site.webmanifest">
    <link rel="mask-icon" href="/img/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#00aba9">
    <meta name="theme-color" content="#ffffff">

    <link href="https://neo-cdn.azureedge.net/lib/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://neo-cdn.azureedge.net/lib/animate.css/animate.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.8/styles/default.min.css">
    <link href="/lib/font-awesome/css/all.min.css" rel="stylesheet" />
    <link href="/css/site.min.css" rel="stylesheet" />
</head>
<body data-spy="scroll" data-target="#navbar-sidenav">
    <nav class="navbar fixed-top navbar-expand-lg py-1 px-3 px-sm-4 px-md-5">
        <a class="navbar-brand" href="https://neo.org">
            <img class="logo" src="/img/logo.svg" alt="NEO Logo" />
            <img class="logo-dark" src="/img/logo-dark.svg" alt="NEO Logo" />
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <i class="fas fa-bars"></i>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link" href="/docs">Documentation</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/tutorial">Tutorial</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/faq">FAQ</a>
                </li>
                <li class="nav-item" style="margin-right: 100px">
                    <a class="nav-link" href="/articles">Articles</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link d-inline-block" href="javascript:" onclick="language('en-us')">EN</a>|<a class="nav-link d-inline-block" href="javascript:" onclick="language('zh-cn')">中文</a>
                </li>
            </ul>
            <form class="form-inline my-2 my-lg-0 d-none">
                <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
                <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
            </form>
        </div>
    </nav>
    <div class="container-fluid" style="margin-top: 55px">
        <div class="row d-flex">
            <div class="d-none d-md-block catalog py-2 py-md-5 pl-md-3">
                
<nav class='nav nav-pills flex-column ml-3'>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/index.html'>站点地图</a>
<span class='ml-0 my-1 nav-link'><i class='fas fa-caret-right'></i>NEO 介绍</span>
<nav class='nav nav-pills flex-column ml-3'>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/basic/whitepaper.html'>NEO 白皮书</a>
<span class='ml-0 my-1 nav-link'><i class='fas fa-caret-right'></i>NEO 技术</span>
<nav class='nav nav-pills flex-column ml-3'>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/basic/technology/neovm.html'>NeoVM</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/basic/technology/neocontract.html'>NEO Contract</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/basic/technology/dbft.html'>共识机制</a>
</nav>
</nav>
<span class='ml-0 my-1 nav-link'><i class='fas fa-caret-right'></i>NEO 节点</span>
<nav class='nav nav-pills flex-column ml-3'>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/node/introduction.html'>节点介绍</a>
<span class='ml-0 my-1 nav-link'><i class='fas fa-caret-right'></i>NEO-GUI</span>
<nav class='nav nav-pills flex-column ml-3'>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/node/gui/install.html'>下载客户端</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/node/gui/wallet.html'>钱包</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/node/gui/transc.html'>交易</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/node/gui/asset.html'>注册与分发资产</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/node/gui/sc.html'>与智能合约交互</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/node/gui/vote.html'>选举与投票</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/node/gui/other.html'>其它功能</a>
</nav>
<span class='ml-0 my-1 nav-link'><i class='fas fa-caret-right'></i>NEO-CLI</span>
<nav class='nav nav-pills flex-column ml-3'>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/node/cli/publish.html'>发布</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/node/cli/setup.html'>安装</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/node/cli/seedlist.html'>节点列表</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/node/cli/cli.html'>命令参考</a>
</nav>
<span class='ml-0 my-1 nav-link'><i class='fas fa-caret-right'></i>NEO-Python</span>
<nav class='nav nav-pills flex-column ml-3'>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/node/python/overview.html'>概述</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/node/python/install.html'>安装 （Ubuntu/OSX）</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/node/python/installwin.html'>安装 （Windows）</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/node/python/seedlist.html'>NEO-Python SeedList</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/node/python/basic.html'>基本用法</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/node/python/prompt.html'>Prompt</a>
</nav>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/node/syncblocks.html'>快速同步区块</a>
</nav>
<span class='ml-0 my-1 nav-link'><i class='fas fa-caret-right'></i>NEO 网络</span>
<nav class='nav nav-pills flex-column ml-3'>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/network/testnet.html'>主网与测试网</a>
<span class='ml-0 my-1 nav-link'><i class='fas fa-caret-right'></i>搭建私有链</span>
<nav class='nav nav-pills flex-column ml-3'>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/network/private-chain/solo.html'>单节点模式</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/network/private-chain/private-chain.html'>使用虚拟机搭建</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/network/private-chain/private-chain2.html'>在本地主机搭建</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/network/private-chain/neolocal.html'>Neo-local</a>
</nav>
</nav>
<span class='ml-0 my-1 nav-link'><i class='fas fa-caret-right'></i>智能合约开发</span>
<nav class='nav nav-pills flex-column ml-3'>
<span class='ml-0 my-1 nav-link'><i class='fas fa-caret-right'></i>快速入门（C#）</span>
<nav class='nav nav-pills flex-column ml-3'>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/sc/gettingstarted/introduction.html'>介绍</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/sc/gettingstarted/prerequisites.html'>准备工作</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/sc/gettingstarted/enviroment.html'>搭建网络环境</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/sc/gettingstarted/develop.html'>开发示例合约</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/sc/gettingstarted/deploy.html'>部署并调用合约</a>
</nav>
<span class='ml-0 my-1 nav-link'><i class='fas fa-caret-right'></i>开发环境</span>
<nav class='nav nav-pills flex-column ml-3'>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/sc/devenv/getting-started-csharp-mac.html'>macOS + C#</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/sc/devenv/getting-started-csharp-ubuntu.html'>ubuntu + C#</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/sc/devenv/getting-started-java.html'>Java</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/sc/devenv/getting-started-python.html'>Python</a>
</nav>
<span class='ml-0 my-1 nav-link'><i class='fas fa-caret-right'></i>合约编写</span>
<nav class='nav nav-pills flex-column ml-3'>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/sc/write/basics.html'>合约编写基础</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/sc/write/limitation.html'>编写限制</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/sc/write/nep5.html'>NEP-5</a>
</nav>
<span class='ml-0 my-1 nav-link'><i class='fas fa-caret-right'></i>部署和调用</span>
<nav class='nav nav-pills flex-column ml-3'>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/sc/deploy/deploy.html'>部署合约</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/sc/deploy/invoke.html'>调用合约</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/sc/deploy/Parameter.html'>参数和返回值</a>
</nav>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/sc/test.html'>测试</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/sc/migrate.html'>合约迁移</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/sc/fees.html'>手续费</a>
<span class='ml-0 my-1 nav-link'><i class='fas fa-caret-right'></i>合约示例</span>
<nav class='nav nav-pills flex-column ml-3'>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/sc/sample/HelloWorld.html'>Hello World</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/sc/sample/Domain.html'>Domain（域名系统）</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/sc/sample/verify.html'>鉴权合约</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/sc/sample/Lock2.html'>锁仓合约</a>
</nav>
</nav>
<span class='ml-0 my-1 nav-link'><i class='fas fa-caret-right'></i>NEO工具开发</span>
<nav class='nav nav-pills flex-column ml-3'>
<span class='ml-0 my-1 nav-link'><i class='fas fa-caret-right'></i>基本概念</span>
<nav class='nav nav-pills flex-column ml-3'>
<span class='ml-0 my-1 nav-link'><i class='fas fa-caret-right'></i>区块模型</span>
<nav class='nav nav-pills flex-column ml-3'>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/tooldev/concept/blockchain/block.html'>区块</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/tooldev/concept/blockchain/token_model.html'>通证</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/tooldev/concept/blockchain/utxo.html'>UTXO</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/tooldev/concept/blockchain/account_asset.html'>账户与资产</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/tooldev/concept/blockchain/validator.html'>验证人</a>
</nav>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/tooldev/concept/charging_model.html'>收费模型</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/tooldev/concept/transaction.html'>交易</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/tooldev/concept/wallets.html'>钱包</a>
<span class='ml-0 my-1 nav-link'><i class='fas fa-caret-right'></i>共识机制</span>
<nav class='nav nav-pills flex-column ml-3'>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/tooldev/concept/consensus/consensus_algorithm.html'>共识算法</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/tooldev/concept/consensus/consensus_protocol.html'>共识协议</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/tooldev/concept/consensus/vote_validator.html'>投票</a>
</nav>
<span class='ml-0 my-1 nav-link'><i class='fas fa-caret-right'></i>密码学</span>
<nav class='nav nav-pills flex-column ml-3'>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/tooldev/concept/cryptography/encode_algorithm.html'>编码算法</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/tooldev/concept/cryptography/hash_algorithm.html'>哈希算法</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/tooldev/concept/cryptography/encryption_algorithm.html'>加密算法</a>
</nav>
</nav>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/tooldev/neo_cli_structure.html'>NEO-CLI 结构</a>
<span class='ml-0 my-1 nav-link'><i class='fas fa-caret-right'></i>NEO SDK</span>
<nav class='nav nav-pills flex-column ml-3'>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/tooldev/sdk/introduction.html'>关于 NEO SDK</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/tooldev/sdk/conversion.html'>数据类型转换</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/tooldev/sdk/account.html'>账户</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/tooldev/sdk/wallet.html'>钱包</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/tooldev/sdk/tx.html'>交易</a>
</nav>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/tooldev/endian.html'>大小端序的使用</a>
<span class='ml-0 my-1 nav-link'><i class='fas fa-caret-right'></i>进阶知识</span>
<nav class='nav nav-pills flex-column ml-3'>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/tooldev/advanced/neo_vm.html'>NeoVM 指令集</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/tooldev/advanced/network-protocol.html'>网络协议</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/tooldev/advanced/tx_execution.html'>交易流程</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/tooldev/advanced/merkle_tree.html'>梅克尔树</a>
</nav>
</nav>
<span class='ml-0 my-1 nav-link'><i class='fas fa-caret-right'></i>交易所对接指南</span>
<nav class='nav nav-pills flex-column ml-3'>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/exchange/general.html'>概述</a>
<span class='ml-0 my-1 nav-link'><i class='fas fa-caret-right'></i>v2.10.3</span>
<nav class='nav nav-pills flex-column ml-3'>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/exchange/2.10.3/deploynode.html'>部署 NEO 节点</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/exchange/2.10.3/client.html'>使用 NEO-CLI 客户端</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/exchange/2.10.3/transaction.html'>处理资产交易</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/exchange/2.10.3/gas.html'>给用户分发 GAS</a>
</nav>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/exchange/changelog.html'>更新记录</a>
</nav>
<span class='ml-0 my-1 nav-link'><i class='fas fa-caret-right'></i>开发参考</span>
<nav class='nav nav-pills flex-column ml-3'>
<span class='ml-0 my-1 nav-link'><i class='fas fa-caret-right'></i>RPC API</span>
<nav class='nav nav-pills flex-column ml-3'>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/rpc/latest-version/api.html'>API 参考</a>
<span class='ml-0 my-1 nav-link'><i class='fas fa-caret-right'></i>v2.10.3</span>
<nav class='nav nav-pills flex-column ml-3'>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/rpc/latest-version/api/claimgas.html'>claimgas</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/rpc/latest-version/api/dumpprivkey.html'>dumpprivkey</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/rpc/latest-version/api/getaccountstate.html'>getaccountstate</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/rpc/latest-version/api/getapplicationlog.html'>getapplicationlog</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/rpc/latest-version/api/getassetstate.html'>getassetstate</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/rpc/latest-version/api/getbalance.html'>getbalance</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/rpc/latest-version/api/getbestblockhash.html'>getbestblockhash</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/rpc/latest-version/api/getblock.html'>getblock</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/rpc/latest-version/api/getblock2.html'>getblock</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/rpc/latest-version/api/getblockcount.html'>getblockcount</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/rpc/latest-version/api/getblockheader.html'>getblockheader</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/rpc/latest-version/api/getblockhash.html'>getblockhash</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/rpc/latest-version/api/getblocksysfee.html'>getblocksysfee</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/rpc/latest-version/api/getclaimable.html'>getclaimable</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/rpc/latest-version/api/getconnectioncount.html'>getconnectioncount</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/rpc/latest-version/api/getcontractstate.html'>getcontractstate</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/rpc/latest-version/api/getmetricblocktimestamp.html'>getmetricblocktimestamp</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/rpc/latest-version/api/getnep5balances.html'>getnep5balances</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/rpc/latest-version/api/getnep5transfers.html'>getnep5transfers</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/rpc/latest-version/api/getnewaddress.html'>getnewaddress</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/rpc/latest-version/api/getrawmempool.html'>getrawmempool</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/rpc/latest-version/api/getrawtransaction.html'>getrawtransaction</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/rpc/latest-version/api/getstorage.html'>getstorage</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/rpc/latest-version/api/gettransactionheight.html'>gettransactionheight</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/rpc/latest-version/api/gettxout.html'>gettxout</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/rpc/latest-version/api/getpeers.html'>getpeers</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/rpc/latest-version/api/getunclaimedgas.html'>getunclaimedgas</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/rpc/latest-version/api/getunclaimed.html'>getunclaimed</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/rpc/latest-version/api/getunspents.html'>getunspents</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/rpc/latest-version/api/getvalidators.html'>getvalidators</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/rpc/latest-version/api/getversion.html'>getversion</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/rpc/latest-version/api/getwalletheight.html'>getwalletheight</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/rpc/latest-version/api/importprivkey.html'>importprivkey</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/rpc/latest-version/api/invokefunction.html'>invokefunction</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/rpc/latest-version/api/invokescript.html'>invokescript</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/rpc/latest-version/api/listplugins.html'>listplugins</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/rpc/latest-version/api/listaddress.html'>listaddress</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/rpc/latest-version/api/sendfrom.html'>sendfrom</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/rpc/latest-version/api/sendrawtransaction.html'>sendrawtransaction</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/rpc/latest-version/api/sendtoaddress.html'>sendtoaddress</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/rpc/latest-version/api/sendmany.html'>sendmany</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/rpc/latest-version/api/submitblock.html'>submitblock</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/rpc/latest-version/api/validateaddress.html'>validateaddress</a>
</nav>
</nav>
<span class='ml-0 my-1 nav-link'><i class='fas fa-caret-right'></i>智能合约API</span>
<nav class='nav nav-pills flex-column ml-3'>
<span class='ml-0 my-1 nav-link'><i class='fas fa-caret-right'></i>API 参考</span>
<nav class='nav nav-pills flex-column ml-3'>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/scapi/api/neo.html'>NEO</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/scapi/api/System.html'>System</a>
</nav>
<span class='ml-0 my-1 nav-link'><i class='fas fa-caret-right'></i>框架</span>
<nav class='nav nav-pills flex-column ml-3'>
<span class='ml-0 my-1 nav-link'><i class='fas fa-caret-right'></i>.net 框架</span>
<nav class='nav nav-pills flex-column ml-3'>
<span class='ml-0 my-1 nav-link'><i class='fas fa-caret-right'></i>NEO</span>
<nav class='nav nav-pills flex-column ml-3'>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/scapi/fw/dotnet/neo/Account.html'>Account</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/scapi/fw/dotnet/neo/Asset.html'>Asset</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/scapi/fw/dotnet/neo/Block.html'>Block</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/scapi/fw/dotnet/neo/Blockchain.html'>Blockchain</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/scapi/fw/dotnet/neo/Contract.html'>Contract</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/scapi/fw/dotnet/neo/Enrollment.html'>Enrollment</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/scapi/fw/dotnet/neo/Header.html'>Header</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/scapi/fw/dotnet/neo/Runtime.html'>Runtime</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/scapi/fw/dotnet/neo/Storage.html'>Storage</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/scapi/fw/dotnet/neo/StorageContext.html'>StorageContext</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/scapi/fw/dotnet/neo/Transaction.html'>Transaction</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/scapi/fw/dotnet/neo/TransactionAttribute.html'>TransactionAttribute</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/scapi/fw/dotnet/neo/TransactionInput.html'>TransactionInput</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/scapi/fw/dotnet/neo/TransactionOutput.html'>TransactionOutput</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/scapi/fw/dotnet/neo/TriggerType.html'>TriggerType</a>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/scapi/fw/dotnet/neo/Validator.html'>Validator</a>
</nav>
<span class='ml-0 my-1 nav-link'><i class='fas fa-caret-right'></i>System</span>
<nav class='nav nav-pills flex-column ml-3'>
<a class='ml-0 my-1 nav-link' href='/docs/zh-cn/reference/scapi/fw/dotnet/System/ExecutionEngine.html'>ExecutionEngine</a>
</nav>
</nav>
</nav>
</nav>
<a class='ml-0 my-1 nav-link' href='https'>SDK API (C#)</a>
</nav>
</nav>
            </div>
            <main class="p-3 p-sm-4 p-md-5">
                <a class="d-block d-md-none" href="javascript:" onclick="showCatalog()">Show / Hide Table of Contents</a>
                <h1 id='f07e9279'><span class='with-space bd-content-title'>交易流程<a class='anchorjs-link ' href='#f07e9279' aria-label='Anchor' data-anchorjs-icon='#'></a></span></h1>
<p class='with-space'>交易，是区块链网络交互操作的唯一方式，包括发布资产，转账，部署智能合约，合约调用等等，都是基于交易的方式进行操作处理。</p>
<p class='with-space'>NEO中的交易，也是采用类似比特币交易的设计，每一笔交易都包含三个重要部分：input, output, scripts。 input代表资金来源，output代表资金流出，scripts是对input所引用UTXO（Unspent Transaction Output）的解锁，通过这种input-output组合方式，将资产的每一笔流动都形成了一条链条结构。</p>
<h2 id='d49533e5'><span class='with-space bd-content-title'>一般流程<a class='anchorjs-link ' href='#d49533e5' aria-label='Anchor' data-anchorjs-icon='#'></a></span></h2>
<p class='with-space'> <a href='../images/tx_execution/tx_flow_graph.jpg'> <img class='d-inline-block img-fluid' data-original='../images/tx_execution/tx_flow_graph.jpg' alt='tx_flow_graph' referrerPolicy='no-referrer' /></a> </p>
<p class='with-space'>一笔交易，在NEO-CLI、NEO-GUI或通过RPC请求被创建，经钱包签名，构建出完整的交易数据，并通过节点进行验证和全网广播。</p>
<p class='with-space'>共识节点收到该笔交易后，校验并放入到内存池。在某次共识阶段，议长打包该交易到新块中。最后，伴随着新块的全网广播，该交易被全网节点执行处理。 整个流程可以简化成下图：</p>
<p class='with-space'> <a href='../images/tx_execution/tx_process_flow.jpg'> <img class='d-inline-block img-fluid' data-original='../images/tx_execution/tx_process_flow.jpg' alt='tx_process_flow' referrerPolicy='no-referrer' /></a> </p>
<ol>
<li>
<p class='with-space'>交易构建： 用户发起一笔交易</p></li>
<li>
<p class='with-space'>交易签名： 完成对交易签名，解锁交易输入</p></li>
<li>
<p class='with-space'>交易广播： 广播交易</p></li>
<li>
<p class='with-space'>交易打包： 共识议长打包交易到新块中</p></li>
<li>
<p class='with-space'>交易处理： 经共识出块广播，交易被全网节点执行处理</p></li>
</ol>
<h3 id='ab39b4af'><span class='with-space bd-content-title'>创建交易<a class='anchorjs-link ' href='#ab39b4af' aria-label='Anchor' data-anchorjs-icon='#'></a></span></h3>
<p class='with-space'>用户可通过NEO-CLI、NEO-GUI或通过RPC请求创建交易，最后经钱包，构建出完整的交易。</p>
<ol>
<li>
<p class='with-space'>通过NEO-CLI指令</p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='send &lt;id|alias&gt; &lt;address&gt; &lt;value&gt;|all [fee=0] '>Copy</button><pre><code class='bash' lang='bash'>send &lt;id|alias&gt; &lt;address&gt; &lt;value&gt;|all [fee=0] 
</code></pre>
</figure>
<p class='with-space'>其中</p>
<ul class='with-space'>
<li>
<p class='with-space'>id|alias：资产ID或名称</p></li>
<li>
<p class='with-space'>address：对方地址</p></li>
<li>
<p class='with-space'>value: 转账金额，也可以用 <code>all</code> 表示所有资产</p></li>
<li>
<p class='with-space'>fee：手续费，缺省值为0</p></li>
</ul></li>
<li>
<p class='with-space'>通过NEO-RPC调用</p>
<ul class='with-space'>
<li>
<p class='with-space'>sendfrom：从指定地址，向指定地址转账</p></li>
<li>
<p class='with-space'>sendtoaddress：向指定地址转账</p></li>
<li>
<p class='with-space'>sendmany：批量转账命令，并且可以指定找零地址</p></li>
</ul>
<p class='with-space'>具体用法请参考 <a href='../../reference/rpc/latest-version/api.html'> API 参考</a> 。</p></li>
<li>
<p class='with-space'>通过NEO-GUI界面</p>
<p class='with-space'>具体操作请参考 <a href='../../node/gui/transc.html'> 交易</a> 。</p></li>
</ol>
<p class='with-space'>钱包构建完整交易接口定义：</p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='public Transaction MakeTransaction(List&lt;TransactionAttribute&gt; attributes, IEnumerable&lt;TransferOutput&gt; outputs, UInt160 from, UInt160 change_address, Fixed8 fee);'>Copy</button><pre><code class='csharp' lang='csharp'>public Transaction MakeTransaction(List&lt;TransactionAttribute&gt; attributes, IEnumerable&lt;TransferOutput&gt; outputs, UInt160 from, UInt160 change_address, Fixed8 fee);
</code></pre>
</figure>
<p class='with-space'>其中   - attributes：交易特性   - outputs：处理的转账信息   - from：转账的付款账户   - change_address：找零地址   - fee：系统费</p>
<p class='with-space'> <strong>钱包生成完整交易步骤</strong> ：</p>
<ol>
<li>
<p class='with-space'>若包含非全局资产，涉及NEP-5资产转账时，转成 <code>InvocationTransaction</code> 调用合约 <code>transfer</code> 方法进行NEP-5资产的转账。</p></li>
<li>
<p class='with-space'>计算总的GAS消耗，包括手续费 和 用户支付的网络费</p></li>
<li>
<p class='with-space'>自动补全intput所需要的UTXO(Unspent Transaction Output)</p>
<ol>
<li>
<p class='with-space'>对output按照&lt;资产Id, 金额&gt;进行统计分组</p></li>
<li>
<p class='with-space'>查找对应资产下，满足转账金额的最少可用的UTXO。若转账金额不满足时，转账失败。</p>
<ol>
<li>
<p class='with-space'>若指定了转账账户，则查找该账户下满足转账金额的最少UTXO</p></li>
<li>
<p class='with-space'>否则，从钱包所有非Lock且非WatchOnly的账户下，查找满足转账金额的最少UTXO.</p></li>
</ol></li>
</ol></li>
<li>
<p class='with-space'>若有零钱剩余时，设置找零的output</p></li>
</ol>
<h3 id='c548d031'><span class='with-space bd-content-title'>签名验证<a class='anchorjs-link ' href='#c548d031' aria-label='Anchor' data-anchorjs-icon='#'></a></span></h3>
<p class='with-space'>在前面的章节提到，一个账户地址，实际上代表的就是一段 <code>OpCode.CHECKSIG</code> 或者 <code>OpCode.CHECKMULTISIG</code>  <a href='./wallets.html#3_address'> 合约代码</a> ，执行时需要提供签名参数。经典的UTXO交易转账时，实际上是对输入地址脚本执行解锁，执行成功则表示对交易的输入引用成功。在NEO交易验证时，也需要对涉及的脚本进行执行验证，故在执行前，需提供相应的脚本所需参数，如交易签名参数。这些参数与对应的脚本，最终被封装在交易的 <a href='./blockchain/transaction.html#witness'> 见证人(Witness)</a> 列表中。</p>
<p class='with-space'>交易签名，实际上是添加地址脚本的签名参数，构建完整可执行的见证人(Witness)，其签名步骤如下：</p>
<p class='with-space'> <strong>签名步骤</strong> ：</p>
<ol>
<li>
<p class='with-space'>封装交易为 <code>ContractParametersContext</code> 对象（ <code>ContractParametersContext</code> 是对要进行签名验证的对象包装，负责添加合约脚本参数，构建完整的见证人）。</p></li>
<li>
<p class='with-space'>对于交易待验证脚本的ScriptHashes的每个对象，取得相应的账户，若对应帐户为空，或该账户没有密钥串，则跳过；</p></li>
<li>
<p class='with-space'>用该密钥串对交易的未签名的序列化数据进行 <code>ECDsa</code> 方法签名；</p></li>
<li>
<p class='with-space'>添加签名参数，存放到参数列表对应位置上，具体步骤如下：</p>
<ol>
<li>
<p class='with-space'>若输入脚本是多重签名，则根据输入脚本合约Contract创建 <code>ContextItem</code> （ <code>ContextItem</code> 是对一个脚本合约的参数封装）。</p>
<ol>
<li>
<p class='with-space'>解析地址脚本字节码中包含的待签名地址公钥，若签名地址不在其中，则签名失败。</p></li>
<li>
<p class='with-space'>保存该签名</p></li>
<li>
<p class='with-space'>当最少签名数满足时，按照签名对应的公钥在脚本中的保序映射关系(order-preserving mapping, 若地址A在地址B前面，则A的签名参数在B的签名参数前面)，依次插入签名参数。（多重签名情况下，还需要别的账户地址进行签名，补充签名参数）</p></li>
</ol></li>
<li>
<p class='with-space'>若输入脚本不是多重签名，判断contract.ParameterList中是否存在唯一的0x00（类型ContractParameterType.Signature）：</p>
<ol>
<li>
<p class='with-space'>若不存在，返回false；</p></li>
<li>
<p class='with-space'>若存在多个抛异常；</p></li>
<li>
<p class='with-space'>将contract的Parameters的index位置赋值为signature</p></li>
</ol></li>
</ol></li>
<li>
<p class='with-space'>若所有的脚本参数已齐全，则得到交易的见证人列表。（如，多重签名情况下，还需要别的账户地址进行签名，补充签名参数）</p></li>
</ol>
<p class='with-space'> <strong>交易验证</strong> </p>
<ol>
<li>
<p class='with-space'> <strong>合法性验证</strong> </p>
<ol>
<li>
<p class='with-space'>交易输入是否存在重复引用</p></li>
<li>
<p class='with-space'>交易输入是否多重花费</p></li>
<li>
<p class='with-space'>检查资产是否存在，是否过期</p></li>
<li>
<p class='with-space'>检查转账金额是否正确，intputs金额与outputs金额关系</p>
<ol>
<li>
<p class='with-space'>当交易有手续费时，input.GAS &gt; output.GAS</p></li>
<li>
<p class='with-space'>当持有NEO提取GAS分红时， input.GAS &lt; output.GAS</p></li>
<li>
<p class='with-space'>当发行资产时，input.Asset &lt; output. Asset</p></li>
</ol></li>
<li>
<p class='with-space'>资产类型与金额是否匹配，资产增发的只能是 MinerTransaction/ClaimTransaction + GAS，或 IssueTransaction + 非GAS资产。</p></li>
<li>
<p class='with-space'>交易手续费是否足够</p></li>
<li>
<p class='with-space'>交易属性是否匹配</p>
<ol>
<li>
<p class='with-space'>若交易属性包含 <code>TransactionAttributeUsage.ECDH02</code> 或 <code>TransactionAttributeUsage.ECDH03</code> 时，校验失败</p></li>
</ol></li>
</ol></li>
<li>
<p class='with-space'> <strong>交易脚本校验</strong> </p>
<ol>
<li>
<p class='with-space'>获取交易中待校验脚本的hash列表，包括如下脚本：</p>
<ol>
<li>
<p class='with-space'>input中的tx的output的scriptHash（收款人地址），即解锁UTXO。</p></li>
<li>
<p class='with-space'>output中涉及到的特殊资产 <code>AssetType.DutyFlag</code> 的收款人地址。</p></li>
<li>
<p class='with-space'>Attributes中涉及到的 <code>TransactionAttributeUsage.Script</code> 脚本。</p></li>
</ol></li>
<li>
<p class='with-space'>获取交易的见证人列表。若对应脚本hash的见证人不存在，则hash指向的就是脚本地址，创建临时的 <code>Opt.APPCALL hash</code> 脚本。</p></li>
<li>
<p class='with-space'>分别加载校验脚本，执行脚本，通过NVM进行执行，若执行返回False，则校验失败。</p></li>
</ol></li>
</ol>
<p class='with-space'>需要对交易进行验证的地方：</p>
<ol>
<li>
<p class='with-space'>节点收到一笔交易时。</p></li>
<li>
<p class='with-space'>节点产生/转发一笔交易时。</p></li>
<li>
<p class='with-space'>节点持久化block后对剩余待验证交易的验证。</p></li>
<li>
<p class='with-space'>共识过程中，对于尚未校验的待打包交易，进行校验。</p></li>
</ol>
<blockquote class='bd-callout bd-callout-info with-space'>
<ul class='with-space'>
<li>
<p class='with-space'>对需要验证的脚本，提供好参数，最后通过NVM进行执行，若都返回True, 则脚本通过验证。</p></li>
<li>
<p class='with-space'>每一个地址，都是一段 <code>OptCode.CHECKSIG</code> 代码段，执行的时候，都需要签名参数。类似的多签合约地址，调用的是 <code>OptCode.CHECKMULTISIG</code> 方法，需要指定数量的签名参数。</p></li>
<li>
<p class='with-space'>每一笔交易的待验证脚本，都包括input所指向的tx.output.scriptHash脚本（即，输入交易的收款人的地址脚本)，这样确保了，只有对应的钱包才能使用该笔UTXO。</p></li>
<li>
<p class='with-space'>当遇到自定义的地址脚本时，需要按照对方的脚本形参，提前准备好参数（不一定是签名参数）进行验证。</p></li>
</ul>
</blockquote>
<h3 id='c18ffd48'><span class='with-space bd-content-title'>广播推送<a class='anchorjs-link ' href='#c18ffd48' aria-label='Anchor' data-anchorjs-icon='#'></a></span></h3>
<p class='with-space'>钱包所在节点，将进行P2P广播该交易。</p>
<p class='with-space'> <a href='../images/tx_execution/tx_p2p_flow.jpg'> <img class='d-inline-block img-fluid' data-original='../images/tx_execution/tx_p2p_flow.jpg' alt='tx_p2p_flow' referrerPolicy='no-referrer' /></a> </p>
<p class='with-space'> <strong>广播步骤</strong> ：</p>
<ol>
<li>
<p class='with-space'>若本地节点启动了共识模块，则触发 <a href='../concept/consensus/consensus_protocol.html#6_tx_handler'> 共识模块的新交易事件</a> 。</p></li>
<li>
<p class='with-space'>本地节点在广播交易前，会先对交易进行校验，并添加到内存池中：</p>
<ol>
<li>
<p class='with-space'>若交易为 <code>MinerTransaction</code> ，则校验失败。</p></li>
<li>
<p class='with-space'>若交易已经在内存池或区块链中，则校验失败。</p></li>
<li>
<p class='with-space'>进行交易自身的检查，包括合法性检查和校验脚本执行。</p></li>
<li>
<p class='with-space'>加载 <a href='https://github.com/neo-project/neo-plugins/blob/master/SimplePolicy/SimplePolicyPlugin.cs#L18' target='_blank'> 插件</a> 进行过滤。</p></li>
<li>
<p class='with-space'>若上述校验通过，则添加到内存池。</p></li>
</ol></li>
<li>
<p class='with-space'>本地节点发送 <code>inv</code> 消息，并附带上交易的hash数据。</p></li>
<li>
<p class='with-space'>若远程节点已收到过该hash对应的数据，或在短时间内，已经重复获取该inv消息时，则不处理；否则，进入步骤五。</p></li>
<li>
<p class='with-space'>远程节点向外广播 <code>getdata</code> 消息，附带上 <code>inv</code> 消息中的hash数据。</p></li>
<li>
<p class='with-space'>本地节点收到 <code>getdata</code> 消息后，则发送 <code>tx</code> 消息并携带上交易数据给对方。</p></li>
<li>
<p class='with-space'>远程节点收到交易数据后, 回到步骤1执行，进行转发广播。</p></li>
</ol>
<h3 id='cd50223f'><span class='with-space bd-content-title'>交易打包<a class='anchorjs-link ' href='#cd50223f' aria-label='Anchor' data-anchorjs-icon='#'></a></span></h3>
<p class='with-space'>共识过程中，议长将打包该交易进行提案投票，最后将新块广播到网络上。</p>
<ol>
<li>
<p class='with-space'>议长将内存池交易全部取出，并进行插件过滤和排序。</p></li>
<li>
<p class='with-space'>将过滤后的交易，打包到新的提案块中，进行共识投票。</p></li>
<li>
<p class='with-space'>若有超过 <code>N-f</code> 个节点投票赞同，则新块完成出块，进行广播新块。</p></li>
</ol>
<h3 id='fbeb7318'><span class='with-space bd-content-title'>交易处理<a class='anchorjs-link ' href='#fbeb7318' aria-label='Anchor' data-anchorjs-icon='#'></a></span></h3>
<p class='with-space'>节点接收到新块后，验证块，最后进行持久化块操作。其中，对不同的交易进行不同的处理，比如投票，执行合约交易，发布资产等等。</p>
<p class='with-space'> <strong>Core.Blockchain对block的处理</strong> </p>
<p class='with-space'>随着对block的persist操作，每种交易的最终处理，也在该过程进行处理:</p>
<ol>
<li>
<p class='with-space'>若涉及到资产转账，则更新相应账户的资产变动。</p></li>
<li>
<p class='with-space'>若账户有参与验证人投票时，更新 validators , validators_count的对应投票数。</p></li>
<li>
<p class='with-space'>更新UTXO，和已花费尚未Claim的Output记录</p></li>
<li>
<p class='with-space'>若是 <code>RegisterTransaction</code> , 则登记发布的新资产</p></li>
<li>
<p class='with-space'>若是 <code>IssueTransaction</code> , 则更新资产的已发行量记录</p></li>
<li>
<p class='with-space'>若是 <code>ClaimTransaction</code> , 则更新已花费尚未Claim的Output记录</p></li>
<li>
<p class='with-space'>若是 <code>EnrollmentTransaction</code> , 则更新验证人信息</p></li>
<li>
<p class='with-space'>若是 <code>StateTransaction</code> ， 则根据类别，进行投票或申请验证人，更新 validators , validators_count的投票数</p></li>
<li>
<p class='with-space'>若是 <code>PublishTransaction</code> , 则创建新的智能合约</p></li>
<li>
<p class='with-space'>若是 <code>InvocationTransaction</code> ， 则执行脚本或调用智能合约</p></li>
<li>
<p class='with-space'>删除非冻结用户且资产为零，非验证人的账户信息</p></li>
<li>
<p class='with-space'>持久化各数据</p></li>
</ol>
<p class='with-space'> <strong>Wallet对Block中的交易处理</strong> </p>
<p class='with-space'>钱包将启动一个线程，监听新来的block，更新相关资产变动账户，交易状态，以及未确认交易队列。处理如下：</p>
<ol>
<li>
<p class='with-space'>处理outputs, 更新钱包涉及到的交易状态和账户变动；</p></li>
<li>
<p class='with-space'>处理intputs, 移除跟踪的地址与交易；</p></li>
<li>
<p class='with-space'>移除Claim交易，跟踪地址与交易；</p></li>
<li>
<p class='with-space'>触发资产变动事件。</p></li>
<li>
<p class='with-space'>从未确认队列中，移除确认的新交易</p></li>
</ol>
<h2 id='c9d30e68'><span class='with-space bd-content-title'>特殊交易的处理<a class='anchorjs-link ' href='#c9d30e68' aria-label='Anchor' data-anchorjs-icon='#'></a></span></h2>
<h3 id='f9a4cf2f'><span class='with-space bd-content-title'>共同特征<a class='anchorjs-link ' href='#f9a4cf2f' aria-label='Anchor' data-anchorjs-icon='#'></a></span></h3>
<p class='with-space'>所有的交易类型均派生自 <code>Neo.Core.Transaction</code> 类型。在该类型里，提供了一些共有的功能和特征，如：</p>
<ul class='with-space'>
<li>
<p class='with-space'>交易属性</p>
<p class='with-space'>交易的属性列表和最大属性数量16，交易类型（如前文所示），版本（默认为1），等等</p></li>
<li>
<p class='with-space'>交易的功能性</p>
<p class='with-space'>输入/输出列表，验证该交易的脚本列表，网络/系统费用，每一个交易输入所引用的交易输出，获取需要校验的脚本散列值，获取交易后各资产的变化量，交易验证，等等</p></li>
<li>
<p class='with-space'>交易的读写操作</p>
<p class='with-space'>ReflectionCache，Size，序列化/反序列化，等等</p></li>
<li>
<p class='with-space'>TransactionAttribute</p>
<p class='with-space'>TransactionAttribute是Transaction类别的一个变量，表示该交易所具备的额外特性。数据结构如下：</p></li>
</ul>
<figure class='with-space'><table class='table table-hover'>
<thead><tr><th>尺寸</th><th>字段</th><th>类型</th><th>描述</th></tr></thead>
<tbody><tr><td>1</td><td>Usage</td><td>TransactionAttributeUsage</td><td>属性类型</td></tr><tr><td>0|1</td><td>length</td><td>uint8</td><td>数据长度（特定情况下会省略）</td></tr><tr><td>?</td><td>Data</td><td>byte[length]</td><td>特定于用途的外部数据</td></tr>
</tbody>
</table></figure>
<p class='with-space'>TransactionAttributeUsage，表示交易属性用途，数据结构如下：</p>
<figure class='with-space'><table class='table table-hover'>
<thead><tr><th>字段</th><th>值</th><th>描述</th></tr></thead>
<tbody><tr><td>ContractHash</td><td>0x00</td><td>外部合同的散列值</td></tr><tr><td>ECDH02</td><td>0x02</td><td>用于ECDH密钥交换的公钥，该公钥的第一个字节为0x02</td></tr><tr><td>ECDH03</td><td>0x03</td><td>用于ECDH密钥交换的公钥，该公钥的第一个字节为0x03</td></tr><tr><td>Script</td><td>0x20</td><td>用于对交易进行额外的验证, 如股权类转账，存放收款人的脚本hash</td></tr><tr><td>Vote</td><td>0x30</td><td>投票</td></tr><tr><td>DescriptionUrl</td><td>0x81</td><td>外部介绍信息地址</td></tr><tr><td>Description</td><td>0x90</td><td>简短的介绍信息</td></tr><tr><td>Hash1 - Hash15</td><td>0xa1-0xaf</td><td>用于存放自定义的散列值</td></tr><tr><td>Remark-Remark15</td><td>0xf0-0xff</td><td>备注</td></tr>
</tbody>
</table></figure>
<p class='with-space'>目前实际使用到的TransactionAttributeUsage有两个，TransactionAttributeUsage.Script（脚本）和TransactionAttributeUsage.Remark（备注），均用于InvocationTransaction。因InvocationTransaction肩负资产注册，发布合约，以及部份转账的功能，需要TransactionAttribute作为补充信息。</p>
<h3 id='fe6c25bc'><span class='with-space bd-content-title'>MinerTransaction<a class='anchorjs-link ' href='#fe6c25bc' aria-label='Anchor' data-anchorjs-icon='#'></a></span></h3>
<figure class='with-space'><table class='table table-hover'>
<thead><tr><th>尺寸</th><th>字段</th><th>名称</th><th>类型</th><th>描述</th></tr></thead>
<tbody><tr><td>-</td><td>-</td><td>-</td><td>-</td><td>交易的公共字段</td></tr><tr><td>4</td><td>Nonce</td><td>交易nonce</td><td>uint</td><td>创世区块的Nonce的值与比特币的创世区块相同，<br/>为2083236893，其他情况下为随机数值。</td></tr><tr><td>-</td><td>-</td><td>-</td><td>-</td><td>交易的公共字段</td></tr>
</tbody>
</table></figure>
<p class='with-space'>分配字节费的特殊交易, 非用户创建类型的交易。系统在创世块创建了第一个MinerTransaction，此后在创建新块的时候，由议长创建相应的MinerTransaction，将所有交易的网络费作为出块奖励。</p>
<p class='with-space'> <strong>交易创建</strong> </p>
<ol>
<li>
<p class='with-space'>共识阶段时，议长将内存池交易，进行第三方插件过滤和排序。</p></li>
<li>
<p class='with-space'>计算待打包交易的总网络费，作为MinerTransaction的output金额。</p></li>
<li>
<p class='with-space'>装填MinerTransaction的output的收款地址为当前议长地址，其他字段：inputs, attrs, witnesses均设置为空。注意，MinerTransaction属于资产发行操作，input与output之间金额不一致。</p></li>
<li>
<p class='with-space'>将上面交易打包到共识提案的block中，并进行广播。</p></li>
</ol>
<p class='with-space'>其他处理流程，与一般流程一致。</p>
<h3 id='e7fa6ce4'><span class='with-space bd-content-title'>RegisterTransaction (已弃用)<a class='anchorjs-link ' href='#e7fa6ce4' aria-label='Anchor' data-anchorjs-icon='#'></a></span></h3>
<figure class='with-space'><table class='table table-hover'>
<thead><tr><th>尺寸</th><th>字段</th><th>名称</th><th>类型</th><th>描述</th></tr></thead>
<tbody><tr><td>-</td><td>-</td><td>-</td><td>-</td><td>交易的公共字段</td></tr><tr><td>1</td><td>AssetType</td><td>资产类型</td><td>byte</td><td></td></tr><tr><td>?</td><td>Name</td><td>资产名字</td><td>string</td><td></td></tr><tr><td>8</td><td>Amount</td><td>资产总量</td><td>Fixed8</td><td></td></tr><tr><td>1</td><td>Precision</td><td>精度</td><td>byte</td><td></td></tr><tr><td>?</td><td>Owner</td><td>所有者公钥</td><td>ECPoint</td><td></td></tr><tr><td>20</td><td>Admin</td><td>管理员地址脚本hash</td><td>UInt160</td><td></td></tr><tr><td>-</td><td>-</td><td>-</td><td>-</td><td>交易的公共字段</td></tr>
</tbody>
</table></figure>
<p class='with-space'>资产登记交易。系统在创世区块调用RegisterTransaction发行了两种资产：NEO Coin（旧称小蚁股，AntShare，简称NEO）和NEO Gas（旧称小蚁币，AntCoin，简称GAS）。注意，用户在GUI创建资产种类时，实际调用的是InvocationTransaction。</p>
<p class='with-space'>Amount为发行总量，共有2种模式：</p>
<ul class='with-space'>
<li>
<p class='with-space'> <strong>限量模式</strong> ：当Amount为正数时，表示当前资产的最大总量为Amount，且不可修改（股权在未来可能会支持扩股或增发，会考虑需要公司签名或一定比例的股东签名认可）。</p></li>
<li>
<p class='with-space'> <strong>不限量模式</strong> ：当Amount等于-1时，表示当前资产可以由创建者无限量发行。这种模式的自由度最大，但是公信力最低。</p></li>
</ul>
<p class='with-space'>其他处理流程与一般流程一致。</p>
<h3 id='fb467c66'><span class='with-space bd-content-title'>IssueTransaction<a class='anchorjs-link ' href='#fb467c66' aria-label='Anchor' data-anchorjs-icon='#'></a></span></h3>
<p class='with-space'>分发资产的特殊交易。完成资产注册后，可在资产创设所设定的总量上限范围内，发行人分发该资产。分发后的资产可以用于转账和交易。分发资产需要消耗一定数量的 GAS 作为附加服务费。</p>
<blockquote class='bd-callout bd-callout-info with-space'>
<ul class='with-space'>
<li>
<p class='with-space'>当版本大于等于1时，手续费为0。</p></li>
<li>
<p class='with-space'>当输出列表中的资产种类为NEO或GAS时，手续费为0；否则手续费为500GAS。</p></li>
</ul>
</blockquote>
<p class='with-space'> <strong>交易验证</strong> </p>
<ol>
<li>
<p class='with-space'> <strong>合法性验证</strong> </p>
<ol>
<li>
<p class='with-space'>先进行一般交易的合法性验证</p></li>
<li>
<p class='with-space'>计算资产输入，输出差值变化情况</p></li>
<li>
<p class='with-space'>若交易引用的input不存在时，则校验失败</p></li>
<li>
<p class='with-space'>若发行的资产不存在，则校验失败</p></li>
<li>
<p class='with-space'>若该交易的发行量加上内存池该资产的其他发行量，超过了发行总量，则校验失败</p></li>
</ol></li>
<li>
<p class='with-space'> <strong>脚本验证</strong> </p>
<p class='with-space'>在进行一般交易的脚本验证时，会包含发行人的脚本验证</p></li>
</ol>
<p class='with-space'>其他处理流程，与一般流程一致。</p>
<h3 id='ac29077f'><span class='with-space bd-content-title'>ClaimTransaction<a class='anchorjs-link ' href='#ac29077f' aria-label='Anchor' data-anchorjs-icon='#'></a></span></h3>
<figure class='with-space'><table class='table table-hover'>
<thead><tr><th>尺寸</th><th>字段</th><th>名称</th><th>类型</th><th>描述</th></tr></thead>
<tbody><tr><td>-</td><td>-</td><td>-</td><td>-</td><td>交易的公共字段</td></tr><tr><td>34*?</td><td>Claims</td><td>Claim已花费的交易</td><td>CoinReference[]</td><td>已经花费的含有NEO的交易输出，获取能够分红的Gas</td></tr><tr><td>-</td><td>-</td><td>-</td><td>-</td><td>交易的公共字段</td></tr>
</tbody>
</table></figure>
<p class='with-space'>GAS是由持有NEO用户进行Claim操作，进行增发GAS（并非每出一个块就立马奖励Gas到账户上）。用户能够Claim到的GAS是与NEO资产的起始高度，截止高度，紧密相关。GAS总量上限是1亿，当区块高度到达4600W后，每个区块不再有奖励。</p>
<p class='with-space'>每一个笔NEO的交易都有两种状态：unspent和spent。每一个未提取的GAS也有两种状态，available和unavailable。一个NEO的生命周期以转入地址起始，转出地址截止，转入时状态变为unspent，转出时状态变为spent。当NEO处于unspent状态时，所产生的GAS为unavailable状态，即不可提取。当NEO处于spent状态时，期间所产生的GAS变为available，用户可以提取。用户可通过转账的方式，将unspent的NEO变成spent状态的NEO，再进行Claim提取GAS。</p>
<p class='with-space'>用户进行Claim时，实际上是</p>
<ol>
<li>
<p class='with-space'>找到已花费尚未Claim的NEO交易（系统维护了一份spentcoins集合——已花费尚未claim的交易）</p></li>
<li>
<p class='with-space'>对其进行计算可以增发的Gas</p></li>
<li>
<p class='with-space'>并将Gas转账到用户钱包地址</p></li>
</ol>
<p class='with-space'> <strong>交易创建</strong> </p>
<ol>
<li>
<p class='with-space'>从spentcoins（已花费尚未claim的交易）中，选择要进行claim的output，并作为ClaimTransaction的claims值。</p></li>
<li>
<p class='with-space'>计算出能提取到的Gas量，并作为ClaimTransaction的output金额</p></li>
<li>
<p class='with-space'>设置ClaimTransaction的output收款人为当前账户，并设置inputs, attrs为空，构建出完整的交易。</p></li>
<li>
<p class='with-space'>对交易进行签名并P2P广播</p></li>
</ol>
<p class='with-space'>其中， <strong>一笔有NEO的tx.output产生的GAS计算</strong> 如下图计算所示：</p>
<p class='with-space'> <a href='../images/tx_execution/tx_claim_gas.jpg'> <img class='d-inline-block img-fluid' data-original='../images/tx_execution/tx_claim_gas.jpg' alt='tx_claim_gas' referrerPolicy='no-referrer' /></a> </p>
<p class='with-space'> <a href='../images/tx_execution/formula_gas.jpg'> <img class='d-inline-block img-fluid' data-original='../images/tx_execution/formula_gas.jpg' alt='formula_gas' referrerPolicy='no-referrer' /></a> </p>
<ul class='with-space'>
<li>
<p class='with-space'>Gas： 一笔持有NEO的tx.output能提取到的Gas数量</p></li>
<li>
<p class='with-space'>M: 交易的块高度， 起始高度</p></li>
<li>
<p class='with-space'>N: 交易被花费的块高度，引用这笔tx.output的交易的所在块高度, 即截止高度</p></li>
<li>
<p class='with-space'> <code>BlockBonus(h)</code> : 高度为h的区块所能得到的Gas奖励, 参考下表。</p></li>
<li>
<p class='with-space'> <code>SystemFee(h)</code> : 高度为h的区块的系统手续费，等于该块下所有交易的系统手续费之和。 <code>amount_sysfee = block.Transactions.Sum(p =&gt; p.SystemFee)</code> </p></li>
<li>
<p class='with-space'> <code>tx.output.NEO</code> : 该交易的NEO数量</p></li>
<li>
<p class='with-space'>10<sup>8:</sup>NEO的总量一亿</p></li>
</ul>
<figure class='with-space'><table class='table table-hover'>
<thead><tr><th>周期</th><th>区块高度范围</th><th>区块奖励GAS</th></tr></thead>
<tbody><tr><td>1</td><td>0 - (200W -1)</td><td>8</td></tr><tr><td>2</td><td>200W ~~ (400W -1)</td><td>7</td></tr><tr><td>3</td><td>400W ~~ (600W -1)</td><td>6</td></tr><tr><td>4</td><td>600W ~~ (800W -1)</td><td>5</td></tr><tr><td>5</td><td>800W ~~ (1000W -1)</td><td>4</td></tr><tr><td>6</td><td>1000W ~~ (1200W -1)</td><td>3</td></tr><tr><td>7</td><td>1200W ~~ (1400W -1)</td><td>2</td></tr><tr><td>8~22</td><td>1400W ~~ (4600W -1)</td><td>1</td></tr><tr><td>23~</td><td>4600W ~</td><td>0</td></tr>
</tbody>
</table></figure>
<blockquote class='bd-callout bd-callout-info with-space'>
<p class='with-space'>一笔交易产生的Gas，等于该交易从未花费到花费的区块高度差内，每个区块的奖励 + 区块系统手续费的之和 乘以该交易NEO的总量占比。</p>
</blockquote>
<p class='with-space'> <strong>交易验证</strong> </p>
<ol>
<li>
<p class='with-space'> <strong>合法性验证</strong> </p>
<ol>
<li>
<p class='with-space'>先进行一般交易的合法性验证；</p></li>
<li>
<p class='with-space'>若Claims包含重复交易时，验证失败；</p></li>
<li>
<p class='with-space'>若Claims与内存池交易存在重复时，验证失败；</p></li>
<li>
<p class='with-space'>若交易引用了一个不存在的交易输出；</p></li>
<li>
<p class='with-space'>若ClaimTransaction的GAS的资产减少或者没有变化时，验证失败；</p></li>
<li>
<p class='with-space'>若根据Claims指向的交易，计算出可以提取的Gas不等于ClaimTransaction GAS的增发量时，验证失败；</p></li>
</ol></li>
<li>
<p class='with-space'> <strong>脚本验证</strong> </p>
<p class='with-space'>在进行一般交易的脚本验证时，会包含Claims交易的收款人地址脚本</p></li>
</ol>
<p class='with-space'>其他处理流程，与一般流程一致。</p>
<h3 id='fa206296'><span class='with-space bd-content-title'>EnrollmentTransaction (已弃用)<a class='anchorjs-link ' href='#fa206296' aria-label='Anchor' data-anchorjs-icon='#'></a></span></h3>
<figure class='with-space'><table class='table table-hover'>
<thead><tr><th>尺寸</th><th>字段</th><th>名称</th><th>类型</th><th>描述</th></tr></thead>
<tbody><tr><td>-</td><td>-</td><td>-</td><td>-</td><td>交易的公共字段</td></tr><tr><td>?</td><td>PublicKey</td><td>记账人的公钥</td><td>ECPoint</td><td>用于分配的NEO</td></tr><tr><td>-</td><td>-</td><td>-</td><td>-</td><td>交易的公共字段</td></tr>
</tbody>
</table></figure>
<p class='with-space'>报名成为验证人的特殊交易，具体操作请参阅 <a href='../concept/consensus/vote_validator.html'> 选举与投票</a> 。</p>
<h3 id='de4e9d38'><span class='with-space bd-content-title'>StateTransaction<a class='anchorjs-link ' href='#de4e9d38' aria-label='Anchor' data-anchorjs-icon='#'></a></span></h3>
<figure class='with-space'><table class='table table-hover'>
<thead><tr><th>尺寸</th><th>字段</th><th>名称</th><th>类型</th><th>描述</th></tr></thead>
<tbody><tr><td>-</td><td>-</td><td>-</td><td>-</td><td>交易的公共字段</td></tr><tr><td>?*?</td><td>Descriptors</td><td>投票信息</td><td>StateDescriptor[]</td><td></td></tr><tr><td>-</td><td>-</td><td>-</td><td>-</td><td>交易的公共字段</td></tr>
</tbody>
</table></figure>
<p class='with-space'>其中，Descriptor类型如下：</p>
<figure class='with-space'><table class='table table-hover'>
<thead><tr><th>尺寸</th><th>字段</th><th>名称</th><th>类型</th><th>描述</th></tr></thead>
<tbody><tr><td>1</td><td>Type</td><td>类型</td><td>Byte</td><td> <code>0x40</code> 代表 投票， <code>0x48</code> 代表申请或注销验证人</td></tr><tr><td>?</td><td>Key</td><td>操作人</td><td>byte[]</td><td>Field = <code>Votes</code> 时，存放投票人地址脚本的hash <br>Feild = <code>Registered</code> 时，存放申请人的公钥</td></tr><tr><td>?</td><td>Field</td><td>验证人表中的字段</td><td>string</td><td>Type = <code>0x40</code> 时， Field = <code>Votes</code> <br>Type = <code>0x48</code> 时，Field = <code>Registered</code> </td></tr><tr><td>?</td><td>Value</td><td>验证人表中Key所代表的<br>字段存放值</td><td>byte[]</td><td>Type = <code>0x40</code> 时，Value存放投票地址列表 <br> Type = <code>0x48</code> 时，存放是否申请验证人的布尔值</td></tr>
</tbody>
</table></figure>
<p class='with-space'>申请验证人或共识节点投票的交易。用户可以在NEO GUI报名成为验证人，成为验证人后就可以根据投票数竞选成为共识节点。报名成为验证人需要花费手续费 1000 GAS。具体操作请参阅 <a href='../concept/consensus/vote_validator.html'> 选举与投票</a> 。</p>
<h3 id='f6ded307'><span class='with-space bd-content-title'>ContractTransaction<a class='anchorjs-link ' href='#f6ded307' aria-label='Anchor' data-anchorjs-icon='#'></a></span></h3>
<p class='with-space'>合约交易，最常用的一种交易，用于转账交易（NEO CLI, API 的send指令，以及GUI的send操作），处理流程与一般流程一致。</p>
<h3 id='d9d34b3c'><span class='with-space bd-content-title'>PublishTransaction (已弃用)<a class='anchorjs-link ' href='#d9d34b3c' aria-label='Anchor' data-anchorjs-icon='#'></a></span></h3>
<figure class='with-space'><table class='table table-hover'>
<thead><tr><th>尺寸</th><th>字段</th><th>名称</th><th>类型</th><th>描述</th></tr></thead>
<tbody><tr><td>-</td><td>-</td><td>-</td><td>-</td><td>交易的公共字段</td></tr><tr><td>?</td><td>Script</td><td>合约的脚本</td><td>byte[]</td><td></td></tr><tr><td>?</td><td>ParameterList</td><td>参数类型列表</td><td>ContractParameterType</td><td></td></tr><tr><td>1</td><td>ReturnType</td><td>返回类型</td><td>ContractParameterType</td><td></td></tr><tr><td>1</td><td>NeedStorage</td><td>是否需要存储空间</td><td>bool</td><td></td></tr><tr><td>?</td><td>Name</td><td>合约名称</td><td>string</td><td></td></tr><tr><td>?</td><td>CodeVersion</td><td>合约版本编号</td><td>string</td><td></td></tr><tr><td>?</td><td>Author</td><td>合约作者姓名</td><td>string</td><td></td></tr><tr><td>?</td><td>Email</td><td>电子邮箱</td><td>string</td><td></td></tr><tr><td>?</td><td>Description</td><td>合约描述</td><td>string</td><td></td></tr><tr><td>-</td><td>-</td><td>-</td><td>-</td><td>交易的公共字段</td></tr>
</tbody>
</table></figure>
<p class='with-space'>智能合约发布的特殊交易，处理流程与一般流程一致。注意, 用户在GUI发布智能合约时，实际调用的是InvocationTransaction。</p>
<h3 id='e1fc0306'><span class='with-space bd-content-title'>InvocationTransaction<a class='anchorjs-link ' href='#e1fc0306' aria-label='Anchor' data-anchorjs-icon='#'></a></span></h3>
<figure class='with-space'><table class='table table-hover'>
<thead><tr><th>尺寸</th><th>字段</th><th>名称</th><th>类型</th><th>描述</th></tr></thead>
<tbody><tr><td>-</td><td>-</td><td>-</td><td>-</td><td>交易的公共字段</td></tr><tr><td>?</td><td>Script</td><td>合约的脚本</td><td>byte[]</td><td></td></tr><tr><td>8</td><td>Gas</td><td>消耗的Gas</td><td>Fixed8</td><td></td></tr><tr><td>-</td><td>-</td><td>-</td><td>-</td><td>交易的公共字段</td></tr>
</tbody>
</table></figure>
<p class='with-space'>调用智能合约的特殊交易。用户可以通过NEO API的 <code>invoke/invokefunction/invokescript</code> 指令，或者NEO GUI，根据输入的智能合约信息创建InvocationTransaction对象并调用。注意，用户在GUI创建资产和发布智能合约时，实际调用的是InvocationTransaction。</p>
<figure class='with-space'><table class='table table-hover'>
<thead><tr><th>InvokeTX用途</th><th>调用脚本</th><th>Attributes</th><th>包含属性</th></tr></thead>
<tbody><tr><td>执行智能合约</td><td>调用合约的脚本</td><td>空</td><td></td></tr><tr><td>发布合约</td><td>Neo.Contract.Create</td><td>空</td><td></td></tr><tr><td>资产注册</td><td>Neo.Asset.Create</td><td>非空</td><td>TransactionAttributeUsage.Script,资产所有者的地址脚本hash，数目 1</td></tr><tr><td>GUI 转账</td><td>NEP-5资产时，调用合约transfer方法；<br/>全局资产时，为空</td><td>非空</td><td>TransactionAttributeUsage.Script，转账账户地址，数目若干 <br/> TransactionAttributeUsage.Remark，备注数据，数目 1</td></tr>
</tbody>
</table></figure>
<p class='with-space'> <strong>交易创建</strong> </p>
<ol>
<li>
<p class='with-space'>根据用途，构建相应的执行脚本，并赋值 InvocationTransaction的Script字段</p></li>
<li>
<p class='with-space'>在本地NVM试运行（测试环境）上面脚本，计算需要消耗的GAS</p></li>
<li>
<p class='with-space'>将 <code>Math.max(0, GasConsumed - 10).Ceiling()</code> 赋值给 InvocationTransaction的GAS字段，并作为交易的系统手续费。（注，系统减免了10GAS的消耗, 并取上整数的GAS）</p></li>
<li>
<p class='with-space'>设置交易的其他字段，并进行签名和P2P广播</p></li>
</ol>
<p class='with-space'> <strong>交易验证</strong> </p>
<ol>
<li>
<p class='with-space'> <strong>合法性校验</strong> </p>
<ol>
<li>
<p class='with-space'>若消耗的GAS不能整除10<sup>8,</sup>则返回false（GAS必须是整数单位形式的Fixed8，不能包含有小数的GAS）</p></li>
<li>
<p class='with-space'>交易的一般性校验</p></li>
</ol></li>
</ol>
<p class='with-space'>其他处理流程，与一般流程一致。</p>
            </main>
            <div class="d-none d-lg-block side-nav py-2 py-md-5">
                <a href="https://github.com/neo-project/docs/blob/master/docs/zh-cn/tooldev\advanced\tx_execution.md" class="contribution-link d-block">Improve this Doc</a>
                <div class="side-nav-text">In this article</div>
                <div id="navbar-sidenav">
                    <nav class='nav nav-pills flex-column'>
<a class='ml--2 d-none my-1 nav-link' href='#f07e9279'>交易流程</a>
<nav class='nav nav-pills flex-column'>
<a class='ml-0 my-1 nav-link' href='#d49533e5'>一般流程</a>
<nav class='nav nav-pills flex-column'>
<a class='ml-2 my-1 nav-link' href='#ab39b4af'>创建交易</a>
<a class='ml-2 my-1 nav-link' href='#c548d031'>签名验证</a>
<a class='ml-2 my-1 nav-link' href='#c18ffd48'>广播推送</a>
<a class='ml-2 my-1 nav-link' href='#cd50223f'>交易打包</a>
<a class='ml-2 my-1 nav-link' href='#fbeb7318'>交易处理</a>
</nav>
<a class='ml-0 my-1 nav-link' href='#c9d30e68'>特殊交易的处理</a>
<nav class='nav nav-pills flex-column'>
<a class='ml-2 my-1 nav-link' href='#f9a4cf2f'>共同特征</a>
<a class='ml-2 my-1 nav-link' href='#fe6c25bc'>MinerTransaction</a>
<a class='ml-2 my-1 nav-link' href='#e7fa6ce4'>RegisterTransaction (已弃用)</a>
<a class='ml-2 my-1 nav-link' href='#fb467c66'>IssueTransaction</a>
<a class='ml-2 my-1 nav-link' href='#ac29077f'>ClaimTransaction</a>
<a class='ml-2 my-1 nav-link' href='#fa206296'>EnrollmentTransaction (已弃用)</a>
<a class='ml-2 my-1 nav-link' href='#de4e9d38'>StateTransaction</a>
<a class='ml-2 my-1 nav-link' href='#f6ded307'>ContractTransaction</a>
<a class='ml-2 my-1 nav-link' href='#d9d34b3c'>PublishTransaction (已弃用)</a>
<a class='ml-2 my-1 nav-link' href='#e1fc0306'>InvocationTransaction</a>
</nav>
</nav>
</nav>
                </div>
            </div>
        </div>
    </div>
    <div class="lightbulb" title="Turn On/Off" onclick="turnOff()">
        <i class="far fa-lightbulb"></i>
    </div>
    <footer>
        <div class="d-flex justify-content-between py-1 px-3 px-sm-4 px-md-5">
            <ul class="d-none d-md-block">
                <li><a href="https://github.com/neo-project/docs" title="GitHub" target="_blank">GitHub</a></li>
                <li><a href="https://github.com/neo-project/docs/issues" title="Issue" target="_blank">Issue</a></li>
                <li><a href="https://discord.io/neo" title="Discord" target="_blank">Discord</a></li>
            </ul>
            <p>Build by <a href="https://github.com/chenzhitong/NeoDocsBuilder" title="NeoDocsBuilder" target="_blank">NeoDocsBuilder</a></p>
            <p>Licensed under <a href="https://github.com/neo-project/docs/blob/master/LICENSE" title="CC-BY-4.0" target="_blank">CC-BY-4.0</a> license. </p>
        </div>
    </footer>
    <script src="https://neo-cdn.azureedge.net/lib/jquery/jquery.min.js"></script>
    <script src="https://neo-cdn.azureedge.net/lib/popper.js/popper.min.js"></script>
    <script src="https://neo-cdn.azureedge.net/lib/bootstrap/js/bootstrap.min.js"></script>
    <script src="https://neo-cdn.azureedge.net/js/jquery.lazyload.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.8/highlight.min.js"></script>
    <script src="https://neo-cdn.azureedge.net/js/text-autospace.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-130525731-2"></script>
    <script src="/js/site.min.js"></script>
    <script>
        //适用于FAQ的根据标题展开收缩
        if (false) {
            $("h2").click(function (e) {
                $(".div-collapse").not($(e.target).parents("h2").next()).hide("fast");
                $(e.target).parents("h2").next().toggle("fast");
            });
        }
    </script>
</body>
</html>
